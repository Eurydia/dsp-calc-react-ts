import{r as g,j as e}from"./react-BxNmW9M4.js";/* empty css                    */import{c as Oe}from"./react-dom-4cyJ1pzl.js";import{G as Fe,F as oe,R as xe,P as H,a as ce,b as $,S as ue}from"./@eurydos-Bg9-38i2.js";import{S as I,T as A,I as je,C as Te,E as Le,a as Ne,P as w,L as ve,b as U,c as k,d as W,A as Ee,e as we,f as X,U as _e,B as se,g as Ae,D as ke,R as We,h as De,i as ie,G as E,F as z,j as Ce,k as be,l as Re,m as ge,n as j,o as B,p as Be,q as Se,r as pe,s as $e,t as Ue,u as Ve,v as fe,M as me,w as Ye,x as qe,y as ze,z as Ge,H as Je,J as He}from"./@mui-C-Nyb8ep.js";import"./@babel-eStMyDEl.js";import"./scheduler-CzFDRTuY.js";import"./@emotion-B6t6h2ED.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-BqmD5Vow.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-CoaIHKce.js";import"./react-is-DcfIKM1A.js";import"./@popperjs-BQBsAJpH.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const G=t=>{const{title:r,children:n}=t,[i,o]=g.useState(!1),c=()=>{o(!i)},s=i?e.jsx(Le,{}):e.jsx(Ne,{});return e.jsxs(g.Fragment,{children:[e.jsxs(I,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(A,{children:r}),e.jsx(je,{onClick:c,children:s})]}),e.jsx(Te,{in:!i,children:n})]})},Xe=t=>{const{facilitySelect:r,flowrateNumberFields:n,prolfieratorUsesNumberField:i,proliferatorSelect:o,recipeSelect:c,sorterSelects:s}=t;return e.jsxs(I,{spacing:2,children:[e.jsx(A,{children:"Configuration"}),e.jsxs(A,{variant:"subtitle1",children:["DSP version: ",Fe]}),e.jsx(G,{title:"Manufacturing",children:e.jsxs(I,{spacing:2,children:[r,c]})}),e.jsx(G,{title:"Transport capacity",children:e.jsx(I,{spacing:2,children:n})}),e.jsx(G,{title:"Proliferation",children:e.jsxs(I,{spacing:2,children:[o,i]})}),e.jsx(G,{title:"Sorter connections",children:e.jsx(I,{spacing:2,children:s})})]})},M=t=>t in oe?oe[t]:{label:"Uh oh",cycleMultiplier:1,workConsumptionMW:1,idleConsumptionMW:1,recipeType:xe.ASSEMBLER,connectionCount:0},Ie=t=>t===12?"Proliferator Mk.I":t===24?"Proliferator Mk.II":t===60?"Proliferator Mk.III":"None",T=t=>t in H?H[t]:{label:"Uh oh",mode:ce.EXTRA_PRODUCTS,workConsumptionMultiplier:1,productMultiplier:1,cycleMultiplier:1,sprayCount:1},P=t=>t in $?$[t]:{label:"Uh oh",cycleTimeSecond:1,materialRecord:{},productRecord:{},recipeType:xe.ASSEMBLER,speedupOnly:!1},le={};for(const t of Object.values($))le[t.recipeType]=t.label;const Q=t=>{const{subheader:r,children:n}=t;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(ve,{dense:!0,subheader:r,children:n})})},Qe=new Intl.NumberFormat("en-US",{maximumSignificantDigits:6,signDisplay:"exceptZero"}),O=t=>Qe.format(t),Ze=[{icon:e.jsx(Ee,{}),render:t=>t.label,secondary:"Name"},{icon:e.jsx(we,{}),render:t=>t.recipeType,secondary:"Category"},{icon:e.jsx(X,{}),render:t=>`${O(t.cycleMultiplier*100)}%`,secondary:"Cycle speed"},{icon:e.jsx(_e,{}),render:t=>t.connectionCount,secondary:"Sorter connections"},{icon:e.jsx(se,{}),render:t=>`${O(t.workConsumptionMW)} MW`,secondary:"Work comsumption"},{icon:e.jsx(se,{}),render:t=>`${O(t.idleConsumptionMW)} MW`,secondary:"Idle comsumption"}],Ke=t=>{const{facility:r}=t,n=Ze.map(({icon:i,secondary:o,render:c},s)=>e.jsxs(U,{children:[e.jsx(k,{children:i}),e.jsx(W,{primary:c(r),secondary:o})]},`item-${s}`));return e.jsx(Q,{subheader:"Recipe information",children:n})},et=[{icon:e.jsx(X,{}),render:t=>`${O((t.cycleMultiplier-1)*100)}%`,secondary:"Bonus cycle speed"},{icon:e.jsx(X,{}),render:t=>`${O((t.productMultiplier-1)*100)}%`,secondary:"Bonus products per cycle"},{icon:e.jsx(se,{}),render:t=>`${O((t.workConsumptionMultiplier-1)*100)}%`,secondary:"Additional work consumption"}],tt=t=>{const{prolif:r,prolifSpray:n}=t,i=et.map(({icon:s,secondary:l,render:d},u)=>e.jsxs(U,{children:[e.jsx(k,{children:s}),e.jsx(W,{secondary:l,primary:d(r)})]},`item-${u}`)),o=O(n===""?0:Number.parseInt(n)),c=e.jsxs(U,{children:[e.jsx(k,{children:e.jsx(Ae,{})}),e.jsx(W,{secondary:"Sprays",primary:o})]});return e.jsxs(Q,{subheader:" Proliferator effects",children:[i,c]})},rt=[{icon:e.jsx(X,{}),render:t=>`${O(t.cycleTimeSecond)} s`,secondary:"Cycle time"},{icon:e.jsx(ke,{}),render:t=>t.speedupOnly?"No":"Yes",secondary:"Extra products bonus"},{icon:e.jsx(We,{}),render:t=>e.jsx(g.Fragment,{children:Object.entries(t.materialRecord).map(([r,n])=>`${n} ${r}`)}),secondary:"Materials"},{icon:e.jsx(De,{}),render:t=>e.jsx(g.Fragment,{children:Object.entries(t.productRecord).map(([r,n])=>`${n} ${r}`)}),secondary:"Products"}],nt=t=>{const{recipe:r}=t,n=rt.map(({icon:i,secondary:o,render:c},s)=>e.jsxs(U,{children:[e.jsx(k,{children:i}),e.jsx(W,{primary:c(r),secondary:o})]},`item-${s}`));return e.jsx(Q,{subheader:"Recipe information",children:n})},ot=t=>{const{facilityNeededCount:r,arrayNeededCount:n,facilityPerArrayCount:i,facilityLeftoverCount:o,facilityLabel:c,recipeLabel:s,prolifLabel:l,prolifSpray:d}=t,u=M(c),a=P(s),f=T(l),y=[{icon:e.jsx(z,{}),primary:i,secondary:"Facilities per array"},{icon:e.jsx(z,{}),primary:n,secondary:"Arrays needed"},{icon:e.jsx(z,{}),primary:r,secondary:"Total facilities needed"},{icon:e.jsx(z,{}),primary:o,secondary:"Leftover facilities"}].map(({icon:p,primary:h,secondary:x},b)=>e.jsxs(U,{children:[e.jsx(k,{children:p}),e.jsx(W,{primary:h,secondary:x})]},`item-${b}`));return e.jsx(ie,{children:e.jsxs(E,{container:!0,spacing:2,children:[e.jsx(E,{item:!0,md:6,children:e.jsxs(I,{spacing:2,children:[e.jsx(Q,{subheader:"Layout",children:y}),e.jsx(nt,{recipe:a})]})}),e.jsx(E,{item:!0,md:6,children:e.jsxs(I,{spacing:2,children:[e.jsx(Ke,{facility:u}),e.jsx(tt,{prolif:f,prolifSpray:d})]})})]})})},Pe=t=>t in ue?ue[t]:{label:"Uh oh",workConsumptionMW:1,idleConsumptionMW:1},_=t=>`./images/${t}.webp`.replaceAll(" ","_").toLowerCase(),st=t=>_(t.replace(" (materials)","").replace(" (products)","")),ye=t=>{const{label:r,perArray:n,perFacility:i,perTotal:o}=t,c=[o,n,i].map((s,l)=>e.jsx(j,{colSpan:1,children:e.jsx(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:O(s)})},`item-${l}`));return e.jsxs(B,{children:[e.jsx(j,{colSpan:1,children:e.jsx("img",{alt:r,src:st(r)})}),e.jsx(j,{colSpan:2,children:r}),c]})},ct=()=>e.jsxs(B,{children:[e.jsx(j,{colSpan:1}),e.jsx(j,{colSpan:2,children:"Item (per minute)"}),e.jsx(j,{colSpan:1,align:"right",children:"Total"}),e.jsx(j,{colSpan:1,align:"right",children:"Per Array"}),e.jsx(j,{colSpan:1,align:"right",children:"Per Facility"})]}),it=t=>{const{facilityNeededCount:r,facilityPerArrayCount:n,materialFlowPerMinutePerFacility:i,productFlowPerMinutePerFacility:o}=t,c=Object.entries(i).map(([l,d])=>e.jsx(ye,{label:l,perArray:-d*r,perFacility:-d,perTotal:-d*n},l)),s=Object.entries(o).map(([l,d])=>e.jsx(ye,{label:l,perArray:d*r,perFacility:d,perTotal:d*n},l));return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(Ce,{children:e.jsxs(be,{children:[e.jsx(Re,{children:e.jsx(ct,{})}),e.jsxs(ge,{children:[c,s]})]})})})},lt=t=>{const{facilityNeededCount:r,facilityPerArrayCount:n,workConsumptionPerFacility:i,idleConsumptionPerFacility:o}=t;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(Ce,{children:e.jsxs(be,{children:[e.jsx(Re,{children:e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Power consumption (MW)"}),e.jsx(j,{colSpan:1,align:"right",children:"Total"}),e.jsx(j,{colSpan:1,align:"right",children:"Per array"}),e.jsx(j,{colSpan:1,align:"right",children:"Per facility"})]})}),e.jsxs(ge,{children:[e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Work"}),[i*r,i*n,i].map((c,s)=>e.jsx(j,{colSpan:1,children:e.jsx(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:O(c)})},`supply-${s}`))]}),e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Idle"}),[o*r,o*n,o].map((c,s)=>e.jsx(j,{colSpan:1,children:e.jsx(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:O(c)})},`supply-${s}`))]})]})]})})})},at=t=>{const{children:r,...n}=t;return e.jsx(I,{spacing:2,direction:"row",alignItems:"center",justifyContent:"left",...n,children:r})},dt=t=>{const{children:r,label:n,onClick:i,title:o}=t;return e.jsx(je,{onClick:i,"aria-label":n,children:e.jsx(Be,{describeChild:!0,title:o,children:r})})},J=t=>{const{disabled:r,maxLength:n,prefix:i,suffix:o,label:c,value:s,onChange:l,onReset:d}=t,u=a=>{const f=a.target.value.slice(0,n).normalize();l(f)};return e.jsxs(at,{children:[e.jsx(Se,{fullWidth:!0,disabled:r,label:c,value:s,onChange:u,InputProps:{startAdornment:e.jsxs(pe,{position:"start",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[i,e.jsx($e,{flexItem:!0,orientation:"vertical"})]}),endAdornment:e.jsx(pe,{position:"end",children:o})}}),e.jsx(dt,{title:`Reset ${c}`,label:`Reset ${c}`,onClick:()=>d(),children:e.jsx(Ue,{})})]})},ut=t=>{const{mode:r,capacityRecord:n,constraintRecord:i,onModeChange:o,onCapacityChange:c,onConstraintChange:s}=t,l=r==="0"?"Production constraint":"Production capacity",d=r==="0"?i:n,u=r==="0"?s:c;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsxs(I,{spacing:2,children:[e.jsxs(Ve,{value:r,onChange:(a,f)=>o(f),"aria-label":"basic tabs example",children:[e.jsx(fe,{label:"Constraint",value:"0"}),e.jsx(fe,{label:"Capacity",value:"1"})]}),e.jsx(A,{variant:"h2",children:l}),e.jsx(ie,{children:e.jsx(E,{container:!0,spacing:2,children:Object.entries(d).map(([a,f])=>e.jsx(E,{item:!0,xs:12,md:6,children:e.jsx(J,{label:a,maxLength:6,suffix:"/min",prefix:e.jsx("img",{alt:a,src:_(a)}),value:f,onChange:m=>u(a,m),onReset:()=>u(a,"0")})},a))})})]})})},pt={SelectDisplayProps:{style:{display:"flex",alignItems:"center"}}},ne=t=>{const{sortOptions:r,label:n,value:i,onValueChange:o,optionToIcon:c,options:s,disabledOptions:l}=t;if(console.debug(s),s.length===0)return;const d=s.includes(i)?i:s[0],u=s.filter(p=>!l.includes(p)),a=l;r&&(u.sort(),a.sort());const f=p=>{o(p.target.value)},m=u.map(p=>e.jsxs(me,{value:p,children:[e.jsx(k,{children:e.jsx("img",{alt:p,src:c(p)})}),e.jsx(W,{children:p})]},p)),y=a.map(p=>e.jsx(me,{disabled:!0,value:p,children:p},p));return e.jsxs(Se,{select:!0,fullWidth:!0,label:n,value:d,onChange:f,SelectProps:pt,children:[m,y]})},ft=(t,r,n,i)=>{const o=M(t),c=P(r),s=T(n),l={};for(const m of Object.entries(i)){const[y,p]=m;let h=Number.parseInt(p);Number.isNaN(h)&&(h=0),l[y]=h}if(Object.values(l).every(m=>m===0))return 0;const d=s.productMultiplier,u=o.cycleMultiplier*s.cycleMultiplier,a=60/c.cycleTimeSecond*u;let f=0;for(const m of Object.entries(c.productRecord)){const[y,p]=m,h=p*a*d,x=l[y]/h;x>f&&(f=x)}return f},mt=(t,r,n,i)=>{const o=M(t),c=P(r),s=T(n),l={};for(const f of Object.entries(i)){const[m,y]=f;let p=Number.parseInt(y);Number.isNaN(p)&&(p=0),l[m]=p}if(Object.values(l).every(f=>f===0))return 0;const d=o.cycleMultiplier*s.cycleMultiplier,u=60/c.cycleTimeSecond*d;let a=0;for(const f of Object.entries(c.materialRecord)){const[m,y]=f,p=y*u,h=l[m]/p;(h>0&&a===0||h<a)&&(a=h)}return a},yt=(t,r,n,i)=>{const o=M(t),c=P(r),s=T(n),l={};for(const y of Object.entries(i)){const[p,h]=y;let x=Number.parseInt(h);Number.isNaN(x)&&(x=0),l[p]=x}const d=o.cycleMultiplier*s.cycleMultiplier,u=60/c.cycleTimeSecond*d,a=s.productMultiplier;let f=0;for(const y of Object.entries(c.materialRecord)){const[p,h]=y,b=l[p]/(h*u);(f===0&&b>0||b<f)&&(f=b)}let m=0;for(const y of Object.entries(c.productRecord)){const[p,h]=y,b=l[p]/(h*u*a);(m===0&&b>0||b<m)&&(m=b)}return Math.min(f,m)},ht=(t,r)=>{let n=0;for(const o of Object.entries(r)){const[c,s]=o;let l=Number.parseInt(s);Number.isNaN(l)&&(l=0),n+=l*Pe(c).idleConsumptionMW}return M(t).idleConsumptionMW+n},xt=(t,r,n)=>{let i=0;for(const l of Object.entries(n)){const[d,u]=l;let a=Number.parseInt(u);Number.isNaN(a)&&(a=0),i+=a*Pe(d).workConsumptionMW}const o=M(t),c=T(r);return o.workConsumptionMW*c.workConsumptionMultiplier+i},jt=(t,r,n,i)=>{const o=M(t),{cycleTimeSecond:c,materialRecord:s,productRecord:l}=P(r),d=T(n),u=o.cycleMultiplier*d.cycleMultiplier,a=60/c*u,f={};for(const y of Object.entries(s)){const[p,h]=y;f[p]=h*a}const m=Number.parseInt(i);if(!Number.isNaN(m)&&m>0){let y=0;for(const x of Object.values(s))y+=a*x;let p=0;for(const x of Object.values(l))p+=a*x*d.productMultiplier;const h=Ie(d.sprayCount);f[`${h} (materials)`]=y/m,f[`${h} (products)`]=p/m}return f},Ct=(t,r,n)=>{const i=M(t),{cycleTimeSecond:o,productRecord:c}=P(r),s=T(n),l=i.cycleMultiplier*s.cycleMultiplier,d=60/o*l,u={};for(const a of Object.entries(c)){const[f,m]=a;u[f]=m*d*s.productMultiplier}return u},ae=(t,r)=>{const[n,i]=g.useState(()=>{const c=localStorage.getItem(r);if(c===null)return t;try{return JSON.parse(c)}catch{return t}});return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{content:n,setContent:i,resetContent:(c,s)=>{const l={};for(const d of c)l[d]=s;i(l)}}},V=(t,r,n)=>{const i=Number.parseInt(t);return Number.isNaN(i)?r:i>n?n:i<r?r:i},he=(t,r)=>{const{content:n,setContent:i,resetContent:o}=ae(t,r);return{clampedRecord:n,updateClampedRecord:(s,l)=>{i(d=>{const u={...d};if(l==="")return u[s]="",u;const a=V(l,0,1e7);return u[s]=a.toString(),u})},setClampedRecord:o}},Y=(t,r)=>{const[n,i]=g.useState(()=>{const o=localStorage.getItem(r);if(o===null)return t;try{return JSON.parse(o)}catch{return t}});return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[r,n]),{content:n,setContent:i}},bt=(t,r)=>{const{content:n,setContent:i}=Y(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{facilityLabel:n,setFacilityLabel:c=>{const s=M(c);i(s.label)}}},Rt=(t,r)=>{const{content:n,setContent:i,resetContent:o}=ae(t,r);return{flowrateRecord:n,updateFlowrateRecord:(s,l,d)=>{i(u=>{const a={...u};if(l==="")return a[s]="",a;let f=d*7200;for(const y of Object.entries(a)){const[p,h]=y;p!==s&&(f-=V(h,7200,f))}const m=V(l,0,f);return a[s]=m.toString(),a})},setFlowrateRecord:o}},gt=(t,r)=>{const{content:n,setContent:i}=Y(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{prolifEffectLabel:n,setProlifEffectLabel:s=>{const l=T(s);i(l.label)},updateProlifEffectLabel:s=>{const l=P(s);i(d=>{const u=T(d);return l.speedupOnly&&u.mode===ce.EXTRA_PRODUCTS?"None":d})}}},St=(t,r)=>{const{content:n,setContent:i}=Y(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{recipeLabel:n,setRecipeLabel:s=>{const l=P(s);i(l.label)},updateRecipeLabel:s=>{const l=M(s),d=P(le[l.recipeType]);i(d.label)}}},It=(t,r)=>{const{content:n,setContent:i}=ae(t,r);return{sorterRecord:n,updateSorterRecord:(c,s,l)=>{i(d=>{const u={...d};if(s==="")return u[c]="",u;let a=l;for(const m of Object.entries(u)){const[y,p]=m;y!==c&&(a-=V(p,0,a))}const f=V(s,0,a);return u[c]=f.toString(),u})}}},Pt={"Sorter Mk.I":"0","Sorter Mk.II":"0","Sorter Mk.III":"0","Pile Sorter":"0"},Mt=()=>{const{facilityLabel:t,setFacilityLabel:r}=bt("Arc Smelter","activeFacility"),n=M(t),i=C=>{r(C);const S=M(C),ee=P(le[S.recipeType]);l(ee.label)},{recipeLabel:o,setRecipeLabel:c}=St("Copper Ingot","activeRecipe"),s=P(o),l=C=>{c(C),K(C);const S=P(C);x(Object.keys(S.materialRecord),""),N(Object.keys(S.productRecord),""),m(Object.keys({...S.materialRecord,...S.productRecord}),"0")},{sorterRecord:d,updateSorterRecord:u}=It(Pt,"sorters"),a=(C,S)=>{u(C,S,n.connectionCount)},{flowrateRecord:f,setFlowrateRecord:m,updateFlowrateRecord:y}=Rt({},"flowrates"),p=(C,S)=>{y(C,S,n.connectionCount)},{clampedRecord:h,setClampedRecord:x,updateClampedRecord:b}=he({},"constraintRecord"),{clampedRecord:F,setClampedRecord:N,updateClampedRecord:L}=he({},"capacityRecord"),{content:v,setContent:q}=Y("0","sprayCount"),{prolifEffectLabel:Z,setProlifEffectLabel:D,updateProlifEffectLabel:K}=gt("None","activeProlif");return{facility:n,handleFacilityChange:i,recipe:s,handleRecipeChange:l,sorterRecord:d,handleSorterRecordChange:a,flowrateRecord:f,handleFlowrateRecordChange:p,prolifEffectLabel:Z,handleProlifChange:C=>{D(C),q("0")},prolifSprayCount:v,handleProlifSprayCountChange:q,capacityRecord:F,handleCapacityRecordChange:L,constraintRecord:h,handleConstraintRecordChange:b}},Ot=t=>{const{slotConfig:r,slotResult:n}=t;return e.jsxs(I,{padding:2,spacing:2,children:[e.jsx(w,{square:!0,elevation:1,sx:{padding:2},children:r}),n]})},Ft=t=>{const{slotResult:r,slotConfig:n}=t;return e.jsxs(E,{container:!0,columns:10,children:[e.jsx(E,{item:!0,md:!0,children:e.jsx(ie,{padding:4,sx:{height:"100vh",overflowY:"auto",scrollbarWidth:"thin"},children:r})}),e.jsx(E,{item:!0,md:3,children:e.jsx(w,{square:!0,elevation:1,sx:{height:"100vh",overflowY:"auto",scrollbarWidth:"thin",padding:2},children:n})})]})},Tt=t=>{const r=Ye(),n=qe(r.breakpoints.down("md"));return e.jsxs(g.Fragment,{children:[n&&e.jsx(w,{square:!0,elevation:0,children:e.jsx(Ot,{...t})}),!n&&e.jsx(w,{square:!0,elevation:0,children:e.jsx(Ft,{...t})})]})},Lt=Object.values(oe).map(({label:t})=>t),Me=Object.values($).map(({label:t})=>t),Nt=Object.values(H).map(({label:t})=>t);console.debug(Me);const vt=t=>Object.values($).filter(({recipeType:r})=>r!==t).map(({label:r})=>r),Et=t=>Object.values(H).filter(({mode:r})=>t&&r!==ce.PRODUCTION_SPEEDUP).map(({label:r})=>r),wt=t=>_(Ie(T(t).sprayCount)),_t=()=>{const{capacityRecord:t,constraintRecord:r,facility:n,flowrateRecord:i,prolifEffectLabel:o,prolifSprayCount:c,recipe:s,sorterRecord:l,handleCapacityRecordChange:d,handleConstraintRecordChange:u,handleFacilityChange:a,handleFlowrateRecordChange:f,handleProlifChange:m,handleProlifSprayCountChange:y,handleRecipeChange:p,handleSorterRecordChange:h}=Mt(),{content:x,setContent:b}=Y("0","mode"),F=n.label,N=s.label;let L=0;x==="0"?L=mt(F,N,o,r):L=ft(F,N,o,t);const v=yt(F,N,o,i),q=jt(F,N,o,c),Z=Ct(F,N,o);let D=0;v>0&&(D=Math.floor(L/v));const K=L-D*v,de=xt(F,o,l),C=ht(F,l),S=Object.entries(i).map(([R,te])=>e.jsx(J,{label:R,maxLength:6,value:te,onChange:re=>f(R,re),onReset:()=>f(R,""),suffix:"/min",prefix:e.jsx("img",{alt:R,src:_(R)})},R)),ee=Object.entries(l).map(([R,te])=>e.jsx(J,{label:R,maxLength:2,value:te,onReset:()=>h(R,"0"),onChange:re=>h(R,re),suffix:`/${n.connectionCount}`,prefix:e.jsx("img",{alt:R,src:_(R)})},R));return e.jsx(Tt,{slotConfig:e.jsx(Xe,{facilitySelect:e.jsx(ne,{sortOptions:!0,label:"Facility",value:n.label,onValueChange:a,optionToIcon:_,options:Lt,disabledOptions:[]}),recipeSelect:e.jsx(ne,{sortOptions:!0,label:"Recipe",value:s.label,onValueChange:p,optionToIcon:_,options:Me,disabledOptions:vt(s.recipeType)}),flowrateNumberFields:S,proliferatorSelect:e.jsx(ne,{label:"Proliferator",value:o,onValueChange:m,options:Nt,optionToIcon:wt,disabledOptions:Et(s.speedupOnly)}),prolfieratorUsesNumberField:e.jsx(J,{maxLength:6,label:"Uses",value:c,onChange:y,onReset:()=>y(""),suffix:"sprays"}),sorterSelects:ee}),slotResult:e.jsxs(I,{spacing:2,children:[e.jsx(ut,{mode:x,constraintRecord:r,capacityRecord:t,onModeChange:b,onCapacityChange:d,onConstraintChange:u}),e.jsx(it,{facilityNeededCount:L,facilityPerArrayCount:v,materialFlowPerMinutePerFacility:q,productFlowPerMinutePerFacility:Z}),e.jsx(lt,{facilityNeededCount:L,facilityPerArrayCount:v,idleConsumptionPerFacility:C,workConsumptionPerFacility:de}),e.jsx(ot,{arrayNeededCount:D,facilityPerArrayCount:v,facilityNeededCount:L,facilityLeftoverCount:K,facilityLabel:F,recipeLabel:N,prolifLabel:o,prolifSpray:c})]})})},At=ze({components:{MuiCssBaseline:{styleOverrides:`img {
					loadingL: lazy;
					width: auto;
					height: 40px;
			}`},MuiTypography:{styleOverrides:{root:{"&.MuiTypography-h1":{fontSize:"1.4rem",fontWeight:"500",color:"#C8AA81"},"&.MuiTypography-h2":{fontSize:"1.2rem",fontWeight:"400",color:"#C8AA81"},"&.MuiTypography-subtitle1":{fontSize:"0.9rem"}}}},MuiTableCell:{styleOverrides:{root:{"&.MuiTableCell-head":{color:"#C8AA81"}}}},MuiList:{styleOverrides:{root:{"&.MuiList-subheader":{color:"#C8AA81"}}}},MuiListItemIcon:{styleOverrides:{root:{color:"#CEB697"}}},MuiIconButton:{styleOverrides:{root:{color:"#7ABBAD"}}},MuiListItemText:{styleOverrides:{root:({theme:t})=>({color:t.palette.text.primary})}}},palette:{mode:"dark",text:{primary:Ge("#fff",.87)},primary:{main:"#7ABBAD"},background:{paper:"#181D22"}}}),kt=()=>e.jsxs(Je,{theme:At,children:[e.jsx(He,{}),e.jsx(_t,{})]});Oe(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(kt,{})}));
