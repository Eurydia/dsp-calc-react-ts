import{r as g,j as e}from"./react-HyB_XKJz.js";/* empty css                    */import{c as Oe}from"./react-dom-Wm5p_jAf.js";import{G as Fe,F as oe,R as je,P as H,a as ie,b as $,S as ue}from"./@eurydos-xHkh2gn2.js";import{S as I,T as A,I as Ce,C as Te,E as Le,a as Ne,P as w,L as ve,b as U,c as k,d as W,A as Ee,e as we,f as X,U as _e,B as se,g as Ae,D as ke,R as We,h as De,i as ce,G as E,F as q,j as be,k as Re,l as ge,m as Se,n as j,o as B,p as pe,q as Be,r as Ie,s as fe,t as $e,u as Ue,v as ze,w as me,M as ye,x as Ve,y as Ye,z as qe,H as Ge,J as Je,K as He}from"./@mui-AAXIZib9.js";import"./hoist-non-react-statics-esXdXJJL.js";import"./scheduler-iwWdm5Ml.js";import"./react-is-T_4AIkBo.js";import"./@babel-R4VyUtW_.js";import"./@emotion-B1ii56L3.js";import"./stylis-UTZzoVRx.js";import"./clsx-Zbgk8kpT.js";import"./react-transition-group-gXtdmd3b.js";import"./@popperjs-zyV4rJhQ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const G=t=>{const{title:r,children:n}=t,[c,o]=g.useState(!1),s=()=>{o(!c)},i=c?e.jsx(Le,{}):e.jsx(Ne,{});return e.jsxs(g.Fragment,{children:[e.jsxs(I,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(A,{children:r}),e.jsx(Ce,{onClick:s,children:i})]}),e.jsx(Te,{in:!c,children:n})]})},Xe=t=>{const{facilitySelect:r,flowrateNumberFields:n,prolfieratorUsesNumberField:c,proliferatorSelect:o,recipeSelect:s,sorterSelects:i}=t;return e.jsxs(I,{spacing:2,children:[e.jsx(A,{children:"Configuration"}),e.jsxs(A,{variant:"subtitle1",children:["DSP version: ",Fe]}),e.jsx(G,{title:"Manufacturing",children:e.jsxs(I,{spacing:2,children:[r,s]})}),e.jsx(G,{title:"Transport capacity",children:e.jsx(I,{spacing:2,children:n})}),e.jsx(G,{title:"Proliferation",children:e.jsxs(I,{spacing:2,children:[o,c]})}),e.jsx(G,{title:"Sorter connections",children:e.jsx(I,{spacing:2,children:i})})]})},M=t=>t in oe?oe[t]:{label:"Uh oh",cycleMultiplier:1,workConsumptionMW:1,idleConsumptionMW:1,recipeType:je.ASSEMBLER,connectionCount:0},Pe=t=>t===12?"Proliferator Mk.I":t===24?"Proliferator Mk.II":t===60?"Proliferator Mk.III":"None",T=t=>t in H?H[t]:{label:"Uh oh",mode:ie.EXTRA_PRODUCTS,workConsumptionMultiplier:1,productMultiplier:1,cycleMultiplier:1,sprayCount:1},P=t=>t in $?$[t]:{label:"Uh oh",cycleTimeSecond:1,materialRecord:{},productRecord:{},recipeType:je.ASSEMBLER,speedupOnly:!1},le={};for(const t of Object.entries($))le[t[0]]=t[1].label;const Q=t=>{const{subheader:r,children:n}=t;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(ve,{dense:!0,subheader:r,children:n})})},Qe=new Intl.NumberFormat("en-US",{maximumSignificantDigits:6,signDisplay:"exceptZero"}),O=t=>Qe.format(t),Ze=[{icon:e.jsx(Ee,{}),render:t=>t.label,secondary:"Name"},{icon:e.jsx(we,{}),render:t=>t.recipeType,secondary:"Category"},{icon:e.jsx(X,{}),render:t=>`${O(t.cycleMultiplier*100)}%`,secondary:"Cycle speed"},{icon:e.jsx(_e,{}),render:t=>t.connectionCount,secondary:"Sorter connections"},{icon:e.jsx(se,{}),render:t=>`${O(t.workConsumptionMW)} MW`,secondary:"Work comsumption"},{icon:e.jsx(se,{}),render:t=>`${O(t.idleConsumptionMW)} MW`,secondary:"Idle comsumption"}],Ke=t=>{const{facility:r}=t,n=Ze.map(({icon:c,secondary:o,render:s},i)=>e.jsxs(U,{children:[e.jsx(k,{children:c}),e.jsx(W,{primary:s(r),secondary:o})]},`item-${i}`));return e.jsx(Q,{subheader:"Recipe information",children:n})},et=[{icon:e.jsx(X,{}),render:t=>`${O((t.cycleMultiplier-1)*100)}%`,secondary:"Bonus cycle speed"},{icon:e.jsx(X,{}),render:t=>`${O((t.productMultiplier-1)*100)}%`,secondary:"Bonus products per cycle"},{icon:e.jsx(se,{}),render:t=>`${O((t.workConsumptionMultiplier-1)*100)}%`,secondary:"Additional work consumption"}],tt=t=>{const{prolif:r,prolifSpray:n}=t,c=et.map(({icon:i,secondary:l,render:d},u)=>e.jsxs(U,{children:[e.jsx(k,{children:i}),e.jsx(W,{secondary:l,primary:d(r)})]},`item-${u}`)),o=O(n===""?0:Number.parseInt(n)),s=e.jsxs(U,{children:[e.jsx(k,{children:e.jsx(Ae,{})}),e.jsx(W,{secondary:"Sprays",primary:o})]});return e.jsxs(Q,{subheader:" Proliferator effects",children:[c,s]})},rt=[{icon:e.jsx(X,{}),render:t=>`${O(t.cycleTimeSecond)} s`,secondary:"Cycle time"},{icon:e.jsx(ke,{}),render:t=>t.speedupOnly?"No":"Yes",secondary:"Extra products bonus"},{icon:e.jsx(We,{}),render:t=>e.jsx(g.Fragment,{children:Object.entries(t.materialRecord).map(([r,n])=>`${n} ${r}`)}),secondary:"Materials"},{icon:e.jsx(De,{}),render:t=>e.jsx(g.Fragment,{children:Object.entries(t.productRecord).map(([r,n])=>`${n} ${r}`)}),secondary:"Products"}],nt=t=>{const{recipe:r}=t,n=rt.map(({icon:c,secondary:o,render:s},i)=>e.jsxs(U,{children:[e.jsx(k,{children:c}),e.jsx(W,{primary:s(r),secondary:o})]},`item-${i}`));return e.jsx(Q,{subheader:"Recipe information",children:n})},ot=t=>{const{facilityNeededCount:r,arrayNeededCount:n,facilityPerArrayCount:c,facilityLeftoverCount:o,facilityLabel:s,recipeLabel:i,prolifLabel:l,prolifSpray:d}=t,u=M(s),a=P(i),f=T(l),y=[{icon:e.jsx(q,{}),primary:c,secondary:"Facilities per array"},{icon:e.jsx(q,{}),primary:n,secondary:"Arrays needed"},{icon:e.jsx(q,{}),primary:r,secondary:"Total facilities needed"},{icon:e.jsx(q,{}),primary:o,secondary:"Leftover facilities"}].map(({icon:p,primary:h,secondary:x},b)=>e.jsxs(U,{children:[e.jsx(k,{children:p}),e.jsx(W,{primary:h,secondary:x})]},`item-${b}`));return e.jsx(ce,{children:e.jsxs(E,{container:!0,spacing:2,children:[e.jsx(E,{item:!0,md:6,children:e.jsxs(I,{spacing:2,children:[e.jsx(Q,{subheader:"Layout",children:y}),e.jsx(nt,{recipe:a})]})}),e.jsx(E,{item:!0,md:6,children:e.jsxs(I,{spacing:2,children:[e.jsx(Ke,{facility:u}),e.jsx(tt,{prolif:f,prolifSpray:d})]})})]})})},Me=t=>t in ue?ue[t]:{label:"Uh oh",workConsumptionMW:1,idleConsumptionMW:1},_=t=>`./images/${t}.webp`.replaceAll(" ","_").toLowerCase(),st=t=>_(t.replace(" (materials)","").replace(" (products)","")),he=t=>{const{label:r,perArray:n,perFacility:c,perTotal:o}=t,s=[o,n,c].map((i,l)=>e.jsx(j,{colSpan:1,children:e.jsx(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:O(i)})},`item-${l}`));return e.jsxs(B,{children:[e.jsx(j,{colSpan:1,children:e.jsx("img",{alt:r,src:st(r)})}),e.jsx(j,{colSpan:2,children:r}),s]})},it=()=>e.jsxs(B,{children:[e.jsx(j,{colSpan:1}),e.jsx(j,{colSpan:2,children:"Item (per minute)"}),e.jsx(j,{colSpan:1,align:"right",children:"Total"}),e.jsx(j,{colSpan:1,align:"right",children:"Per Array"}),e.jsx(j,{colSpan:1,align:"right",children:"Per Facility"})]}),ct=t=>{const{facilityNeededCount:r,facilityPerArrayCount:n,materialFlowPerMinutePerFacility:c,productFlowPerMinutePerFacility:o}=t,s=Object.entries(c).map(([l,d])=>e.jsx(he,{label:l,perArray:-d*r,perFacility:-d,perTotal:-d*n},l)),i=Object.entries(o).map(([l,d])=>e.jsx(he,{label:l,perArray:d*r,perFacility:d,perTotal:d*n},l));return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(be,{children:e.jsxs(Re,{children:[e.jsx(ge,{children:e.jsx(it,{})}),e.jsxs(Se,{children:[s,i]})]})})})},lt=t=>{const{facilityNeededCount:r,facilityPerArrayCount:n,workConsumptionPerFacility:c,idleConsumptionPerFacility:o}=t;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsx(be,{children:e.jsxs(Re,{children:[e.jsx(ge,{children:e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Power consumption (MW)"}),e.jsx(j,{colSpan:1,align:"right",children:"Total"}),e.jsx(j,{colSpan:1,align:"right",children:"Per array"}),e.jsx(j,{colSpan:1,align:"right",children:"Per facility"})]})}),e.jsxs(Se,{children:[e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Work"}),[c*r,c*n,c].map((s,i)=>e.jsx(j,{colSpan:1,children:e.jsxs(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:[e.jsx(pe,{fontSize:"inherit"}),O(s)]})},`supply-${i}`))]}),e.jsxs(B,{children:[e.jsx(j,{colSpan:3,children:"Idle"}),[o*r,o*n,o].map((s,i)=>e.jsx(j,{colSpan:1,children:e.jsxs(A,{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"inherit",children:[e.jsx(pe,{fontSize:"inherit"}),O(s)]})},`supply-${i}`))]})]})]})})})},at=t=>{const{children:r,...n}=t;return e.jsx(I,{spacing:2,direction:"row",alignItems:"center",justifyContent:"left",...n,children:r})},dt=t=>{const{children:r,label:n,onClick:c,title:o}=t;return e.jsx(Ce,{onClick:c,"aria-label":n,children:e.jsx(Be,{describeChild:!0,title:o,children:r})})},J=t=>{const{disabled:r,maxLength:n,prefix:c,suffix:o,label:s,value:i,onChange:l,onReset:d}=t,u=a=>{const f=a.target.value.slice(0,n).normalize();l(f)};return e.jsxs(at,{children:[e.jsx(Ie,{fullWidth:!0,disabled:r,label:s,value:i,onChange:u,InputProps:{startAdornment:e.jsxs(fe,{position:"start",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[c,e.jsx($e,{flexItem:!0,orientation:"vertical"})]}),endAdornment:e.jsx(fe,{position:"end",children:o})}}),e.jsx(dt,{title:`Reset ${s}`,label:`Reset ${s}`,onClick:()=>d(),children:e.jsx(Ue,{})})]})},ut=t=>{const{mode:r,capacityRecord:n,constraintRecord:c,onModeChange:o,onCapacityChange:s,onConstraintChange:i}=t,l=r==="0"?"Production constraint":"Production capacity",d=r==="0"?c:n,u=r==="0"?i:s;return e.jsx(w,{square:!0,elevation:2,sx:{padding:2},children:e.jsxs(I,{spacing:2,children:[e.jsxs(ze,{value:r,onChange:(a,f)=>o(f),"aria-label":"basic tabs example",children:[e.jsx(me,{label:"Constraint",value:"0"}),e.jsx(me,{label:"Capacity",value:"1"})]}),e.jsx(A,{variant:"h2",children:l}),e.jsx(ce,{children:e.jsx(E,{container:!0,spacing:2,children:Object.entries(d).map(([a,f])=>e.jsx(E,{item:!0,xs:12,md:6,children:e.jsx(J,{label:a,maxLength:6,suffix:"/min",prefix:e.jsx("img",{alt:a,src:_(a)}),value:f,onChange:m=>u(a,m),onReset:()=>u(a,"0")})},a))})})]})})},pt={SelectDisplayProps:{style:{display:"flex",alignItems:"center"}}},ne=t=>{const{sortOptions:r,label:n,value:c,onValueChange:o,optionToIcon:s,options:i,disabledOptions:l}=t,d=i.includes(c)?c:i[0],u=i.filter(p=>!l.includes(p)),a=l;r&&(u.sort(),a.sort());const f=p=>{o(p.target.value)},m=u.map(p=>e.jsxs(ye,{value:p,children:[e.jsx(k,{children:e.jsx("img",{alt:p,src:s(p)})}),e.jsx(W,{children:p})]},p)),y=a.map(p=>e.jsx(ye,{disabled:!0,value:p,children:p},p));return e.jsxs(Ie,{select:!0,fullWidth:!0,label:n,value:d,onChange:f,SelectProps:pt,children:[m,y]})},ft=(t,r,n,c)=>{const o=M(t),s=P(r),i=T(n),l={};for(const m of Object.entries(c)){const[y,p]=m;let h=Number.parseInt(p);Number.isNaN(h)&&(h=0),l[y]=h}if(Object.values(l).every(m=>m===0))return 0;const d=i.productMultiplier,u=o.cycleMultiplier*i.cycleMultiplier,a=60/s.cycleTimeSecond*u;let f=0;for(const m of Object.entries(s.productRecord)){const[y,p]=m,h=p*a*d,x=l[y]/h;x>f&&(f=x)}return f},mt=(t,r,n,c)=>{const o=M(t),s=P(r),i=T(n),l={};for(const f of Object.entries(c)){const[m,y]=f;let p=Number.parseInt(y);Number.isNaN(p)&&(p=0),l[m]=p}if(Object.values(l).every(f=>f===0))return 0;const d=o.cycleMultiplier*i.cycleMultiplier,u=60/s.cycleTimeSecond*d;let a=0;for(const f of Object.entries(s.materialRecord)){const[m,y]=f,p=y*u,h=l[m]/p;(h>0&&a===0||h<a)&&(a=h)}return a},yt=(t,r,n,c)=>{const o=M(t),s=P(r),i=T(n),l={};for(const y of Object.entries(c)){const[p,h]=y;let x=Number.parseInt(h);Number.isNaN(x)&&(x=0),l[p]=x}const d=o.cycleMultiplier*i.cycleMultiplier,u=60/s.cycleTimeSecond*d,a=i.productMultiplier;let f=0;for(const y of Object.entries(s.materialRecord)){const[p,h]=y,b=l[p]/(h*u);(f===0&&b>0||b<f)&&(f=b)}let m=0;for(const y of Object.entries(s.productRecord)){const[p,h]=y,b=l[p]/(h*u*a);(m===0&&b>0||b<m)&&(m=b)}return Math.min(f,m)},ht=(t,r)=>{let n=0;for(const o of Object.entries(r)){const[s,i]=o;let l=Number.parseInt(i);Number.isNaN(l)&&(l=0),n+=l*Me(s).idleConsumptionMW}return M(t).idleConsumptionMW+n},xt=(t,r,n)=>{let c=0;for(const l of Object.entries(n)){const[d,u]=l;let a=Number.parseInt(u);Number.isNaN(a)&&(a=0),c+=a*Me(d).workConsumptionMW}const o=M(t),s=T(r);return o.workConsumptionMW*s.workConsumptionMultiplier+c},jt=(t,r,n,c)=>{const o=M(t),{cycleTimeSecond:s,materialRecord:i,productRecord:l}=P(r),d=T(n),u=o.cycleMultiplier*d.cycleMultiplier,a=60/s*u,f={};for(const y of Object.entries(i)){const[p,h]=y;f[p]=h*a}const m=Number.parseInt(c);if(!Number.isNaN(m)&&m>0){let y=0;for(const x of Object.values(i))y+=a*x;let p=0;for(const x of Object.values(l))p+=a*x*d.productMultiplier;const h=Pe(d.sprayCount);f[`${h} (materials)`]=y/m,f[`${h} (products)`]=p/m}return f},Ct=(t,r,n)=>{const c=M(t),{cycleTimeSecond:o,productRecord:s}=P(r),i=T(n),l=c.cycleMultiplier*i.cycleMultiplier,d=60/o*l,u={};for(const a of Object.entries(s)){const[f,m]=a;u[f]=m*d*i.productMultiplier}return u},ae=(t,r)=>{const[n,c]=g.useState(()=>{const s=localStorage.getItem(r);if(s===null)return t;try{return JSON.parse(s)}catch{return t}});return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{content:n,setContent:c,resetContent:(s,i)=>{const l={};for(const d of s)l[d]=i;c(l)}}},z=(t,r,n)=>{const c=Number.parseInt(t);return Number.isNaN(c)?r:c>n?n:c<r?r:c},xe=(t,r)=>{const{content:n,setContent:c,resetContent:o}=ae(t,r);return{clampedRecord:n,updateClampedRecord:(i,l)=>{c(d=>{const u={...d};if(l==="")return u[i]="",u;const a=z(l,0,1e7);return u[i]=a.toString(),u})},setClampedRecord:o}},V=(t,r)=>{const[n,c]=g.useState(()=>{const o=localStorage.getItem(r);if(o===null)return t;try{return JSON.parse(o)}catch{return t}});return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[r,n]),{content:n,setContent:c}},bt=(t,r)=>{const{content:n,setContent:c}=V(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{facilityLabel:n,setFacilityLabel:s=>{const i=M(s);c(i.label)}}},Rt=(t,r)=>{const{content:n,setContent:c,resetContent:o}=ae(t,r);return{flowrateRecord:n,updateFlowrateRecord:(i,l,d)=>{c(u=>{const a={...u};if(l==="")return a[i]="",a;let f=d*7200;for(const y of Object.entries(a)){const[p,h]=y;p!==i&&(f-=z(h,7200,f))}const m=z(l,0,f);return a[i]=m.toString(),a})},setFlowrateRecord:o}},gt=(t,r)=>{const{content:n,setContent:c}=V(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{prolifEffectLabel:n,setProlifEffectLabel:i=>{const l=T(i);c(l.label)},updateProlifEffectLabel:i=>{const l=P(i);c(d=>{const u=T(d);return l.speedupOnly&&u.mode===ie.EXTRA_PRODUCTS?"None":d})}}},St=(t,r)=>{const{content:n,setContent:c}=V(t,r);return g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(n))},[n,r]),{recipeLabel:n,setRecipeLabel:i=>{const l=P(i);c(l.label)},updateRecipeLabel:i=>{const l=M(i),d=P(le[l.recipeType]);c(d.label)}}},It=(t,r)=>{const{content:n,setContent:c}=ae(t,r);return{sorterRecord:n,updateSorterRecord:(s,i,l)=>{c(d=>{const u={...d};if(i==="")return u[s]="",u;let a=l;for(const m of Object.entries(u)){const[y,p]=m;y!==s&&(a-=z(p,0,a))}const f=z(i,0,a);return u[s]=f.toString(),u})}}},Pt={"Sorter Mk.I":"0","Sorter Mk.II":"0","Sorter Mk.III":"0","Pile Sorter":"0"},Mt=()=>{const{facilityLabel:t,setFacilityLabel:r}=bt("Arc Smelter","activeFacility"),n=M(t),c=C=>{r(C);const S=M(C),ee=P(le[S.recipeType]);l(ee.label)},{recipeLabel:o,setRecipeLabel:s}=St("Copper Ingot","activeRecipe"),i=P(o),l=C=>{s(C),K(C);const S=P(C);x(Object.keys(S.materialRecord),""),N(Object.keys(S.productRecord),""),m(Object.keys({...S.materialRecord,...S.productRecord}),"0")},{sorterRecord:d,updateSorterRecord:u}=It(Pt,"sorters"),a=(C,S)=>{u(C,S,n.connectionCount)},{flowrateRecord:f,setFlowrateRecord:m,updateFlowrateRecord:y}=Rt({},"flowrates"),p=(C,S)=>{y(C,S,n.connectionCount)},{clampedRecord:h,setClampedRecord:x,updateClampedRecord:b}=xe({},"constraintRecord"),{clampedRecord:F,setClampedRecord:N,updateClampedRecord:L}=xe({},"capacityRecord"),{content:v,setContent:Y}=V("0","sprayCount"),{prolifEffectLabel:Z,setProlifEffectLabel:D,updateProlifEffectLabel:K}=gt("None","activeProlif");return{facility:n,handleFacilityChange:c,recipe:i,handleRecipeChange:l,sorterRecord:d,handleSorterRecordChange:a,flowrateRecord:f,handleFlowrateRecordChange:p,prolifEffectLabel:Z,handleProlifChange:C=>{D(C),Y("0")},prolifSprayCount:v,handleProlifSprayCountChange:Y,capacityRecord:F,handleCapacityRecordChange:L,constraintRecord:h,handleConstraintRecordChange:b}},Ot=t=>{const{slotConfig:r,slotResult:n}=t;return e.jsxs(I,{padding:2,spacing:2,children:[e.jsx(w,{square:!0,elevation:1,sx:{padding:2},children:r}),n]})},Ft=t=>{const{slotResult:r,slotConfig:n}=t;return e.jsxs(E,{container:!0,columns:10,children:[e.jsx(E,{item:!0,md:!0,children:e.jsx(ce,{padding:4,sx:{height:"100vh",overflowY:"auto",scrollbarWidth:"thin"},children:r})}),e.jsx(E,{item:!0,md:3,children:e.jsx(w,{square:!0,elevation:1,sx:{height:"100vh",overflowY:"auto",scrollbarWidth:"thin",padding:2},children:n})})]})},Tt=t=>{const r=Ve(),n=Ye(r.breakpoints.down("md"));return e.jsxs(g.Fragment,{children:[n&&e.jsx(w,{square:!0,elevation:0,children:e.jsx(Ot,{...t})}),!n&&e.jsx(w,{square:!0,elevation:0,children:e.jsx(Ft,{...t})})]})},Lt=Object.values(oe).map(({label:t})=>t),Nt=Object.values($).map(({label:t})=>t),vt=Object.values(H).map(({label:t})=>t),Et=t=>Object.values($).filter(({recipeType:r})=>r!==t).map(({label:r})=>r),wt=t=>Object.values(H).filter(({mode:r})=>t&&r!==ie.PRODUCTION_SPEEDUP).map(({label:r})=>r),_t=t=>_(Pe(T(t).sprayCount)),At=()=>{const{capacityRecord:t,constraintRecord:r,facility:n,flowrateRecord:c,prolifEffectLabel:o,prolifSprayCount:s,recipe:i,sorterRecord:l,handleCapacityRecordChange:d,handleConstraintRecordChange:u,handleFacilityChange:a,handleFlowrateRecordChange:f,handleProlifChange:m,handleProlifSprayCountChange:y,handleRecipeChange:p,handleSorterRecordChange:h}=Mt(),{content:x,setContent:b}=V("0","mode"),F=n.label,N=i.label;let L=0;x==="0"?L=mt(F,N,o,r):L=ft(F,N,o,t);const v=yt(F,N,o,c),Y=jt(F,N,o,s),Z=Ct(F,N,o);let D=0;v>0&&(D=Math.floor(L/v));const K=L-D*v,de=xt(F,o,l),C=ht(F,l),S=Object.entries(c).map(([R,te])=>e.jsx(J,{label:R,maxLength:6,value:te,onChange:re=>f(R,re),onReset:()=>f(R,""),suffix:"/min",prefix:e.jsx("img",{alt:R,src:_(R)})},R)),ee=Object.entries(l).map(([R,te])=>e.jsx(J,{label:R,maxLength:2,value:te,onReset:()=>h(R,"0"),onChange:re=>h(R,re),suffix:`/${n.connectionCount}`,prefix:e.jsx("img",{alt:R,src:_(R)})},R));return e.jsx(Tt,{slotConfig:e.jsx(Xe,{facilitySelect:e.jsx(ne,{sortOptions:!0,label:"Facility",value:n.label,onValueChange:a,optionToIcon:_,options:Lt,disabledOptions:[]}),recipeSelect:e.jsx(ne,{sortOptions:!0,label:"Recipe",value:i.label,onValueChange:p,optionToIcon:_,options:Nt,disabledOptions:Et(i.recipeType)}),flowrateNumberFields:S,proliferatorSelect:e.jsx(ne,{label:"Proliferator",value:o,onValueChange:m,options:vt,optionToIcon:_t,disabledOptions:wt(i.speedupOnly)}),prolfieratorUsesNumberField:e.jsx(J,{maxLength:6,label:"Uses",value:s,onChange:y,onReset:()=>y(""),suffix:"sprays"}),sorterSelects:ee}),slotResult:e.jsxs(I,{spacing:2,children:[e.jsx(ut,{mode:x,constraintRecord:r,capacityRecord:t,onModeChange:b,onCapacityChange:d,onConstraintChange:u}),e.jsx(ct,{facilityNeededCount:L,facilityPerArrayCount:v,materialFlowPerMinutePerFacility:Y,productFlowPerMinutePerFacility:Z}),e.jsx(lt,{facilityNeededCount:L,facilityPerArrayCount:v,idleConsumptionPerFacility:C,workConsumptionPerFacility:de}),e.jsx(ot,{arrayNeededCount:D,facilityPerArrayCount:v,facilityNeededCount:L,facilityLeftoverCount:K,facilityLabel:F,recipeLabel:N,prolifLabel:o,prolifSpray:s})]})})},kt=qe({components:{MuiCssBaseline:{styleOverrides:`img {
					loadingL: lazy;
					width: auto;
					height: 40px;
			}`},MuiTypography:{styleOverrides:{root:{"&.MuiTypography-h1":{fontSize:"1.4rem",fontWeight:"500",color:"#C8AA81"},"&.MuiTypography-h2":{fontSize:"1.2rem",fontWeight:"400",color:"#C8AA81"},"&.MuiTypography-subtitle1":{fontSize:"0.9rem"}}}},MuiTableCell:{styleOverrides:{root:{"&.MuiTableCell-head":{color:"#C8AA81"}}}},MuiList:{styleOverrides:{root:{"&.MuiList-subheader":{color:"#C8AA81"}}}},MuiListItemIcon:{styleOverrides:{root:{color:"#CEB697"}}},MuiIconButton:{styleOverrides:{root:{color:"#7ABBAD"}}},MuiListItemText:{styleOverrides:{root:({theme:t})=>({color:t.palette.text.primary})}}},palette:{mode:"dark",text:{primary:Ge("#fff",.87)},primary:{main:"#7ABBAD"},background:{paper:"#181D22"}}}),Wt=()=>e.jsxs(Je,{theme:kt,children:[e.jsx(He,{}),e.jsx(At,{})]});Oe(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Wt,{})}));
